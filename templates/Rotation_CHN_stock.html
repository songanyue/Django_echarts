<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="UTF-8">
    <title>visualization</title>
    <link rel="stylesheet" href={% static "layui/css/layui.css" %}>
    <script type="text/javascript" src={% static "js/jquery-3.6.0.min.js" %}></script>
    <script type="text/javascript" src={% static "js/echarts.min.js" %}></script>
    <script type="text/javascript" src={% static "js/world.js" %}></script>
    <script type="text/javascript" src={% static "layui/layui.js" %}></script>
</head>
<body onresize="resizeFresh()">  <!-- 添加刷新函数调用 -->
    <!-- 添加刷新函数调用-->
    <style type="text/css">
        html,body{
            height:100%;
            width:100%
        }
    </style>
    <div style="width:100%; height:100%">
        <div id="head" style="height:10%; width:100%; z-index: 1; position: fixed; top: 0; left: auto">
            <h1 align="center" style="margin: 10px">战略经济对抗平台</h1>
            <div style="display: flex">
                <div class="layui-btn-container" style="margin-left: auto">
                    <button id="select_line0" class="layui-btn layui-btn-primary" style="margin-bottom: 0">
                        对外援助<i class="layui-icon layui-icon-down layui-font-12"></i>
                    </button>
                </div>
                <div class="layui-btn-container" style="height:5%">
                    <button id="select_line" class="layui-btn layui-btn-primary">CHN<i class="layui-icon layui-icon-down layui-font-12"></i></button>
                </div>
                <form class="layui-form layui-form-pane" autocomplete="off" style="margin-right: auto">
                    <div class="layui-form-item" style="display: flex">
                        <label class="layui-form-label" style="width: 250px; text-align: right; border-style: none; background-color: unset">国家：</label>
                        <div class="layui-input-block" style="margin-left: 0; margin-right: 50px">
                            <div class="layui-input" style="display: flex">
                                <div class="layui-slider-input-txt">
                                    <input id="search" type="text" placeholder="请选择" style="width: 100px">
                                </div>
                                <div class="layui-form-item" style="margin-left: 10px">
                                    <button id="search_bt" type="button" class="layui-btn layui-btn-primary" style="padding: 0 10px; height: 38px">
                                        <i class="layui-icon layui-icon-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div id="map_aid" class="chart-container" style="width:100%; height:100%; margin:auto"></div>
    </div>

    <script>
        var AID_chn = {{ AID_chn|safe }}
        var map_aid = echarts.init(document.getElementById('map_aid'), 'white', {renderer: 'canvas'});
        var option_map_aid = {
            "baseOption": {
                "timeline": {
                    "axisType": "category",
                    "orient": "horizontal",
                    "autoPlay": false,
                    "controlPosition": "left",
                    "loop": false,
                    "rewind": false,
                    "show": true,
                    "inverse": false,
                    "bottom": "-5px",
                    "data": [
                        "2000\u5e74",
                        "2001\u5e74",
                        "2002\u5e74",
                        "2003\u5e74",
                        "2004\u5e74",
                        "2005\u5e74",
                        "2006\u5e74",
                        "2007\u5e74",
                        "2008\u5e74",
                        "2009\u5e74",
                        "2010\u5e74",
                        "2011\u5e74",
                        "2012\u5e74",
                        "2013\u5e74",
                        "2014\u5e74"
                    ]
                },
                "grid": [
                    {
                        "show": false,
                        "zlevel": 0,
                        "z": 2,
                        "left": 0,
                        "right": 0,
                        "top": 0,
                        "bottom": 0,
                        "containLabel": false,
                        "backgroundColor": "transparent",
                        "borderColor": "#ccc",
                        "borderWidth": 1
                    }
                ],
            },
            "options": [
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[0],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            //"nameMap": nameMap,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 20000,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[1],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[2],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[3],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[4],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[5],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[6],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[7],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[8],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[9],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[10],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[11],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[12],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[13],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                },
                {
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": AID_chn[14],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                }
            ]
        };
        map_aid.setOption(option_map_aid);

        function setDetail(option, aid) {
            var options = [];
            for (var i = 0; i < aid.length; i++) {
                //设置具体的样式
                var detail = {
                    "legend": [
                        {
                            "data": [
                                ""
                            ],
                            "selected": {
                                "": true
                            },
                            "show": true,
                            "padding": 5,
                            "itemGap": 10,
                            "itemWidth": 25,
                            "itemHeight": 14
                        }
                    ],
                    "series": [
                        {
                            "type": "map",
                            "label": {
                                "show": false,
                                "position": "top",
                                "margin": 8
                            },
                            "mapType": "world",
                            "data": aid[i],
                            "roam": true,
                            "aspectScale": 0.75,
                            "nameProperty": "name",
                            "selectedMode": false,
                            "zoom": 1,
                            "layoutCenter": ['47%', '52%'],
                            "layoutSize": 900,
                            //"nameMap": nameMap,
                            "mapValueCalculation": "sum",
                            "showLegendSymbol": false,
                            "emphasis": {},
                            "rippleEffect": {
                                "show": true,
                                "brushType": "stroke",
                                "scale": 2.5,
                                "period": 4
                            }
                        }
                    ],
                    "tooltip": {
                        "show": true,
                        "trigger": "item",
                        "triggerOn": "mousemove|click",
                        "axisPointer": {
                            "type": "line"
                        },
                        "showContent": true,
                        "alwaysShowContent": false,
                        "showDelay": 0,
                        "hideDelay": 100,
                        "textStyle": {
                            "fontSize": 14
                        },
                        "borderWidth": 0,
                        "padding": 5
                    },
                    "visualMap": {
                        "show": true,
                        "type": "continuous",
                        "min": 0,
                        "max": 19500,
                        "inRange": {
                            "color": [
                                "#CCEBFF",
                                "#22DDDD",
                                "#0099FF",
                                "#003D66"
                            ]
                        },
                        "calculable": true,
                        "inverse": false,
                        "splitNumber": 5,
                        "orient": "vertical",
                        "showLabel": true,
                        "itemWidth": 20,
                        "itemHeight": 140,
                        "borderWidth": 0
                    },
                    "color": [
                        "#c23531",
                        "#2f4554",
                        "#61a0a8",
                        "#d48265",
                        "#749f83",
                        "#ca8622",
                        "#bda29a",
                        "#6e7074",
                        "#546570",
                        "#c4ccd3",
                        "#f05b72",
                        "#ef5b9c",
                        "#f47920",
                        "#905a3d",
                        "#fab27b",
                        "#2a5caa",
                        "#444693",
                        "#726930",
                        "#b2d235",
                        "#6d8346",
                        "#ac6767",
                        "#1d953f",
                        "#6950a1",
                        "#918597"
                    ]
                };
                options.push(detail);
            }
            option.options = options;
        }

        layui.use(['dropdown'], function() {
            var dropdown = layui.dropdown;
            dropdown.render({
                elem: '#select_line0',
                trigger: 'mousedown',
                data: [
                    {
                        id: '../',
                        title: '总览',
                    }, {
                        id: '../map1',
                        title: '宏观经济数据',
                    }, {
                        id: '../map2',
                        title: '政策波动性',
                    }, {
                        id: '../map3D',
                        title: '国家关联关系',
                    }, {
                        id: '../aid',
                        title: '对外援助',
                    }
                ],
                click: function(param) {
                    window.location.href = param.id;
                }
            });
        });

        layui.use(['dropdown'], function() {
            var dropdown = layui.dropdown;
            dropdown.render({
                elem: '#select_line',
                trigger: 'mousedown',
                data: [
                    {
                        title: 'CHN'
                    }, {
                        title: 'US'
                    }, {
                        title: 'BOTH'
                    }
                ],
                click: function(param) {
                    document.getElementById("select_line").innerHTML = param.title + '<i class="layui-icon layui-icon-down layui-font-12"></i>';
                    $.ajax({
                        url : "/select_aid/",
                        type : "POST",
                        data : {
                            'type': param.title
                        },
                        success: function (result) {  //获取后台处理后传过来的result
                            var obj = jQuery.parseJSON(result)
                            var aid = obj.AID
                            var year = obj.year_list
                            var map_aid = echarts.init(document.getElementById('map_aid'), 'white', {renderer: 'canvas'});
                            var aid_option = {
                                "baseOption": {
                                    "timeline": {
                                        "axisType": "category",
                                        "orient": "horizontal",
                                        "autoPlay": false,
                                        "controlPosition": "left",
                                        "loop": true,
                                        "rewind": false,
                                        "show": true,
                                        "inverse": false,
                                        "bottom": 0,
                                        "data": year
                                    },
                                    "grid": [
                                        {
                                            "show": false,
                                            "zlevel": 0,
                                            "z": 2,
                                            "left": 0,
                                            "right": 0,
                                            "top": 0,
                                            "bottom": 0,
                                            "containLabel": false,
                                            "backgroundColor": "transparent",
                                            "borderColor": "#ccc",
                                            "borderWidth": 1
                                        }
                                    ],
                                },
                                "options": []
                            };
                            setDetail(aid_option, aid);
                            map_aid.setOption(aid_option);
                            map_aid.resize();
                        }
                    });
                }
            });
        });
    </script>

	<script>
	     //窗口大小变化时候，进行刷新页面操作，防止样式混乱
         var x=window.innerWidth;
         function resizeFresh(){
             if(x!==window.innerWidth)
                 location.reload();
         }
	</script>
</body>
</html>